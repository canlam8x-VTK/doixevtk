<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-store" />
  <title>Qu·∫£n l√Ω c√¥ng t√°c l√°i xe</title>
  <style>
    :root{
      --bg:#1a0709;
      --card:#2b0a0d;
      --header:#24070a;
      --today:#3a0d11;
      --past:#7a1d25;
      --line:#6b1a21;
      --line2:#8a2a33;
      --ink:#ffd54f;
      --muted:#ffe599;
      --ok:#16a34a;
      --danger:#ef4444;
    }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--ink)}
    .wrap{max-width:1280px;margin:0 auto;padding:18px}
    h1{margin:0 0 10px;font-size:22px}
    .sub{color:var(--muted);font-size:13px;margin:6px 0 14px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:14px;margin-bottom:18px}
    .toolbar{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}
    .tag{display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,.04);border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--ink)}
    .btn{appearance:none;border:none;border-radius:12px;padding:10px 12px;font-weight:700;cursor:pointer;display:inline-flex;align-items:center;gap:8px;color:var(--ink)}
    .btn-go{background:#a21922}
    .btn-back{background:#147a33}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px;border:1px solid var(--line);font-size:14px;vertical-align:top}
    th{background:var(--header);font-weight:700}
    .dot{width:14px;height:14px;border-radius:50%;display:inline-block}
    .dot.going{background:var(--danger)}
    .dot.backed{background:var(--ok)}
    .week-grid th{background:var(--header);text-align:center}
    .day-cell{min-width:100px;min-height:80px;vertical-align:top;padding:4px}
    .day-cell.past{background:var(--past)}
    .day-cell.today{background:var(--today)}
    .line{
      border:1px dashed var(--line2);
      border-radius:6px;
      padding:2px 4px;
      min-height:24px;
      background:rgba(0,0,0,.12);
      color:var(--ink);
      font-size:14px;
      white-space:pre-wrap;  /* cho ph√©p xu·ªëng d√≤ng */
      word-break:break-word;
      overflow-y:auto;
      max-height:120px;
    }
    .line[contenteditable="true"]{outline:none}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üöó Qu·∫£n l√Ω c√¥ng t√°c l√°i xe</h1>
    <div class="sub">B·∫£ng 2: √¥ ghi ch√∫ nh·∫•n Enter s·∫Ω xu·ªëng d√≤ng.</div>

    <div class="card">
      <table class="week-grid" id="weekTable"></table>
    </div>
  </div>

  <script>
    const DRIVERS = ["ƒê/c Lu·∫≠n","ƒê/c Hi·ªÅn","ƒê/c Tr·∫°ch"];
    const DAYS = ["Th·ª© 2","Th·ª© 3","Th·ª© 4","Th·ª© 5","Th·ª© 6","Th·ª© 7","CN"];
    const weekTable = document.getElementById('weekTable');

    function renderWeek(){
      weekTable.innerHTML = "";
      const thead = document.createElement('thead');
      const htr = document.createElement('tr');
      const th0 = document.createElement('th'); th0.textContent="Ng√†y"; htr.appendChild(th0);
      DRIVERS.forEach(n=>{
        const th=document.createElement('th');
        th.innerHTML = n+"<div style='font-size:11px;color:"+getComputedStyle(document.body).getPropertyValue('--muted')+"'>/ T2/T3/T4/T5/T6/T7/CN</div>";
        htr.appendChild(th);
      });
      thead.appendChild(htr); weekTable.appendChild(thead);
      const tbody = document.createElement('tbody');
      for(let i=0;i<7;i++){
        const tr=document.createElement('tr');
        const td0=document.createElement('td'); td0.textContent=DAYS[i]; tr.appendChild(td0);
        DRIVERS.forEach(()=>{
          const td=document.createElement('td'); td.className="day-cell";
          const div=document.createElement('div'); div.className="line"; div.contentEditable=true;
          // x·ª≠ l√Ω Enter
          div.addEventListener('keydown', e=>{
            if(e.key==="Enter"){
              e.preventDefault();
              document.execCommand("insertText", false, "\n");
            }
          });
          td.appendChild(div);
          tr.appendChild(td);
        });
        tbody.appendChild(tr);
      }
      weekTable.appendChild(tbody);
    }

    renderWeek();
  </script>
</body>
</html>